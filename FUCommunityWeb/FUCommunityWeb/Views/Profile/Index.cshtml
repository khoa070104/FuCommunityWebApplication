@model UserVM


<div class="container-fluid mt-4 profile">
    <h1 class="title text-start">PROFILE</h1>
    <div class="row justify-content-center">
        <!-- Sidebar -->
        <div class="col-md-3">
            @Html.Partial("Sidebar", Model)
        </div>
        <!-- My Profile Section -->
        <div class="col-md-9">
            <div class="my-profile">
                <h2 class="text-center custom-my-profile mb-4">My Profile</h2>
                <form class="profile-form" method="post">
                    <table class="table">
                        <tbody>
                            <tr>
                                <th for="fullName" scope="row">Full Name:</th>
                                <td>
                                    <input asp-for="User.FullName" class="form-control" id="fullName" readonly />
                                </td>
                            </tr>
                            <tr>
                                <th for="bio" scope="row">Bio:</th>
                                <td>
                                    <input asp-for="User.Bio" class="form-control" id="bio" readonly/>
                                </td>
                            </tr>
                            <tr>
                                <th for="address" scope="row">Address:</th>
                                <td>
                                    <input asp-for="User.Address" class="form-control" id="address" readonly/>
                                </td>
                            </tr>
                            <tr>
                                <th for="gender" scope="row">Gender:</th>
                                <td>
                                    <select asp-for="User.Gender" class="form-control" id="gender" disabled>
                                        <option value="M" selected="@Model.User.Gender.Equals('M')">Male</option>
                                        <option value="F" selected="@Model.User.Gender.Equals('F')">Female</option>
                                    </select>
                                </td>

                            </tr>
                            <tr>
                                <th for="dob" scope="row">Date of Birth:</th>
                                <td>
                                    <input asp-for="User.DOB" class="form-control" id="dob" readonly/>
                                </td>
                            </tr>
                            <tr>
                                <th for="phone" scope="row">Phone Number:</th>
                                <td>
                                    <input asp-for="User.PhoneNumber" class="form-control" id="phone" readonly />
                                    <p>
                                        <a target="_blank" href="https://zalo.me/@(Model.User.PhoneNumber)" style="text-decoration: none; color: black;">
                                            @(Model.User.PhoneNumber)
                                        </a>
                                    </p>
                                    <span class="text-custom-light">Muốn cập nhật Số điện thoại, <a href="/Identity/Account/Manage">Click here</a></span>
                                </td>
                            </tr>

                            <tr>
                                <th for="description" scope="row">Description:</th>
                                <td>
                                    <textarea asp-for="User.Description" class="form-control" id="description" readonly></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" class="text-center">
                                    <a href="/Profile/Edit" class="btn" data-bs-toggle="modal" data-bs-target="#editProfileModal">Edit Profile</a>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editProfileModalLabel">Edit Your Profile</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form asp-action="EditProfile" method="post">
                    <div class="mb-3">
                        <label for="fullName" class="form-label">Full Name</label>
                        <input asp-for="User.FullName" class="form-control" id="fullName" />
                    </div>
                    <div class="mb-3">
                        <label for="bio" class="form-label">Bio</label>
                        <input asp-for="User.Bio" class="form-control" id="bio" />
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">Address</label>
                        <input asp-for="User.Address" class="form-control" id="address" />
                    </div>
                    <div class="mb-3">
                        <label for="gender" class="form-label">Gender</label>
                        <select asp-for="User.Gender" class="form-control" id="gender">
                            <option value="M" selected="@Model.User.Gender.Equals('M')">Male</option>
                            <option value="F" selected="@Model.User.Gender.Equals('F')">Female</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="dob" class="form-label">Date of Birth</label>
                        <input asp-for="User.DOB" class="form-control" id="dob" />
                    </div>
                    <div class="mb-3">
                        <label for="phone" class="form-label">Phone Number</label>
                        <input asp-for="User.PhoneNumber" class="form-control" id="phone" readonly/>
                        <p>
                            <a target="_blank" href="https://zalo.me/@(Model.User.PhoneNumber)" style="text-decoration: none; color: black;">
                                @(Model.User.PhoneNumber)
                            </a>
                        </p>
                        <span class="text-custom-light">Muốn cập nhật Số điện thoại, <a href="/Identity/Account/Manage">Click here</a></span>
                    </div>
                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea asp-for="User.Description" class="form-control" id="description"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-cancel" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn">Save Changes</button>
            </div>
        </div>
    </div>
</div>


<script>
	// document.addEventListener('DOMContentLoaded', function () {
	// 	const inputs = document.querySelectorAll('.profile-form input, .profile-form textarea');
	// 	const btnSaveChange = document.querySelector('.btn-savechange');
	// 	const phoneInput = document.querySelector('#phone');
	// 	btnSaveChange.textContent = 'Edit';
	// 	inputs.forEach(input => {
	// 		if (input !== phoneInput) {
	// 			input.disabled = true;
	// 		}
	// 	});

	// 	btnSaveChange.addEventListener('click', function (event) {
	// 		if (btnSaveChange.textContent === 'Edit') {
	// 			inputs.forEach(input => {
	// 				if (input !== phoneInput) {
	// 					input.disabled = false;
	// 				}
	// 			});
	// 			btnSaveChange.textContent = 'Save Changes';
	// 			event.preventDefault();
	// 		} else {
	// 			btnSaveChange.textContent = 'Edit';
	// 			inputs.forEach(input => input.disabled = true);
	// 		}
	// 	});
	// });
	//---
	// btnSaveChange.addEventListener('click', function (event) {
	// 	if (btnSaveChange.textContent === 'Edit') {
	// 		inputs.forEach(input => {
	// 			if (input !== phoneInput) {
	// 				input.disabled = false; Enable input fields
	// 			}
	// 		});
	// 		btnSaveChange.textContent = 'Save Changes';
	// 		event.preventDefault(); Prevent form submission on the first click
	// 	} else {
	// 		btnSaveChange.textContent = 'Edit';
	// 		inputs.forEach(input => input.disabled = true);
	// 		Allow form submission on the second click
	// 	}
	// });
</script>
